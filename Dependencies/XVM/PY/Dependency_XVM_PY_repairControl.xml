<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<AutomationSequence documentVersion="1.0">
  <!-- Specify macros here -->
  <Macros>
    <Macro Name="file_name" Value="repairControl.py"/>
    <Macro Name="folder_path" Value="res_mods\configs\xvm\py_macro"/>
    <Macro Name="dl_filepath" Value="{working_folder_source}\{file_name}"/>
    <Macro Name="dl_from_pkg_target_package_uid" Value="this"/>
    <Macro Name="dl_from_pkg_macro_save_name" Value="download_url"/>
    <Macro Name="dl_from_pkg_index" Value="0"/>
  </Macros>
  <TaskDefinitions>
    <!-- create work dirs and macros -->
    <Task ID="import_createWD" Command="import_task" RepoUrlPath="Task_templates/create_workDirs_macros.xml"/>

    <!-- get dl-url -->
    <Task ID="import_getDLUrl" Command="import_task" RepoUrlPath="Task_templates/Generic/get_download_url_from_package.xml"/>

    <!-- download py file -->
    <Task ID="download_source" Command="download_static" Url="{download_url}" DestinationPath="{dl_filepath}"/>

    <!-- import tasks for single_file to update the mod -->
    <Task ID="import_task_single_file_download_extract_modpack" Command="import_task" RepoUrlPath="Task_templates/Generic/single_file_download_extract_modpack.xml"/>
    <Task ID="import_task_single_file_compare_file" Command="import_task" RepoUrlPath="Task_templates/Generic/single_file_compare_file.xml"/>
    <Task ID="import_task_single_file_copy_source" Command="import_task" RepoUrlPath="Task_templates/Generic/single_file_copy_source.xml"/>
    <Task ID="import_task_single_file_create_package" Command="import_task" RepoUrlPath="Task_templates/Generic/single_file_create_package.xml"/>
    <Task ID="import_task_single_file_upload" Command="import_task" RepoUrlPath="Task_templates/Generic/single_file_upload.xml"/>
  </TaskDefinitions>
</AutomationSequence>